(this["webpackJsonpcalendar-react"]=this["webpackJsonpcalendar-react"]||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(9),s=n.n(c),i=(n(16),n(1)),o=n.n(i),u=n(3),l=n(4),d=n(11),p=n(0),h=function(e){var t=e.users,n=e.changeUser,a=e.filteredByUser,c=e.changeFilteredByUser,s=e.newEvent,i=[].concat(Object(d.a)(t.map((function(e){return e.data.name}))),["All"]),o=Object(r.useState)(a),u=Object(l.a)(o,2),h=u[0],j=u[1];return Object(r.useEffect)((function(){j(a)}),[a]),Object(p.jsxs)("div",{className:"main_top-container",children:[Object(p.jsx)("h1",{children:"Calendar-react"}),Object(p.jsxs)("div",{className:"controls",children:[Object(p.jsx)("select",{className:"filtered-by",id:"filter",value:h,onChange:function(e){j(e.target.value),c(e.target.value)},children:i.map((function(e){return Object(p.jsx)("option",{className:"member",value:e,children:"All"===e?"All members":e},"filter-".concat(e))}))}),Object(p.jsx)("button",{className:"change_user-btn",type:"button",onClick:function(){return n()},children:"Change User"}),Object(p.jsx)("button",{className:"add-event-btn",type:"button",onClick:function(){return s()},children:"New event +"})]})]})},j=function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"calendar_cell","data-cell":"Monday10",children:[Object(p.jsx)("span",{className:"calendar_cell-name","data-cell_name":"Monday10",children:"John, Alex"}),Object(p.jsx)("button",{className:"calendar_cell-del_btn","data-del_btn":"Monday10",type:"button",children:"\u2716"})]}),Object(p.jsxs)("ul",{className:"calendar_cell_participants","data-cell_list":"Monday10",children:[Object(p.jsx)("li",{className:"calendar_cell_participant",children:"Bob"}),Object(p.jsx)("li",{className:"calendar_cell_participant",children:"Alex"})]})]})},b=function(){var e=["Monday","Tuesday","Wednesday","Thursday","Friday"];return Object(p.jsxs)("table",{className:"calendar",children:[Object(p.jsx)("tr",{className:"calendar-header",children:["Name"].concat(e).map((function(e){return Object(p.jsx)("th",{className:"calendar_header-item",children:e})}))}),[10,11,12,13,14,15,16,17,18].map((function(t){return Object(p.jsx)("tr",{className:"calendar-row",children:["Name"].concat(e).map((function(e){return"Name"===e?Object(p.jsx)("td",{className:"calendar_row-item",children:"".concat(t,":00")}):Object(p.jsx)("td",{className:"calendar_row-item",draggable:"true","data-time":"".concat(e).concat(t),children:Object(p.jsx)(j,{})})}))})}))]})},f=n(7),O=n(10),m=new function e(){var t=this;if(Object(f.a)(this,e),this.get=function(){var e=Object(u.a)(o.a.mark((function e(n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(t.settingsObject.URL).concat(t.settingsObject.SYSTEM,"/").concat(n),e.prev=1,e.next=4,fetch(r,{method:"get"});case 4:return c=e.sent,e.next=7,c.json();case 7:a=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),this.create=function(){var e=Object(u.a)(o.a.mark((function e(n,r){var a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t.settingsObject.URL).concat(t.settingsObject.SYSTEM,"/").concat(n),e.prev=1,e.next=4,fetch(a,{method:"POST",body:r,headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return s=e.sent,e.next=7,s.json();case 7:c=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 13:return e.abrupt("return",c);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),this.change=function(){var e=Object(u.a)(o.a.mark((function e(n,r,a){var c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(t.settingsObject.URL).concat(t.settingsObject.SYSTEM,"/").concat(n,"/").concat(r),e.prev=1,e.next=4,fetch(c,{method:"PUT",body:a,headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return i=e.sent,e.next=7,i.json();case 7:s=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.delete=function(){var e=Object(u.a)(o.a.mark((function e(n,r){var a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t.settingsObject.URL).concat(t.settingsObject.SYSTEM,"/").concat(n,"/").concat(r),e.prev=1,e.next=4,fetch(a,{method:"DELETE"});case 4:return c=e.sent,s=c.status,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),e.instance instanceof e)return e.instance;this.settingsObject={URL:"http://158.101.166.74:8080/api/data/",SYSTEM:"pavlo_pechenevskyi"},Object.freeze(this.settingsObject),Object.freeze(this),e.instance=this},v=new(function(){function e(t){Object(f.a)(this,e),this.showErrorMessage=function(e){var t=document.querySelector("#error-modal");document.querySelector(".error_modal-subtitle").textContent=e,t.classList.add("active")},this.service=t}return Object(O.a)(e,[{key:"get",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.get(t);case 2:return n=e.sent,r=null,n.error&&this.showErrorMessage("in ".concat(t,": ").concat(n.error)),n&&(r=n.map((function(e){return{id:e.id,data:JSON.parse(e.data.replaceAll('\\"','"'))}}))),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,this.service.create(t,'{"data":"'.concat(JSON.stringify(n).replaceAll('"','\\"'),'"}'));case 3:return(a=e.sent).error&&this.showErrorMessage("in ".concat(t,": ").concat(a.error)),r.id=a.id,r.data=JSON.parse(a.data.replaceAll('\\"','"')),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"change",value:function(){var e=Object(u.a)(o.a.mark((function e(t,n,r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,this.service.change(t,n,'{"data":"'.concat(JSON.stringify(r).replaceAll('"','\\"'),'"}'));case 3:return(c=e.sent).error&&this.showErrorMessage("in ".concat(t,": ").concat(c.error)),a.id=c.id,a.data=JSON.parse(c.data.replaceAll('\\"','"')),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.delete(t,n);case 2:return(r=e.sent).error&&this.showErrorMessage("in ".concat(t,": ").concat(r.error)),console.log(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}())(m),x=function(e){var t=e.users,n=e.currentUser,a=e.setAuthorizedUser,c=Object(r.useState)(n.data.name),s=Object(l.a)(c,2),i=s[0],o=s[1];Object(r.useEffect)((function(){o(n.data.name)}),[n]);return Object(p.jsx)("div",{className:"modal_wrapper active",id:"authorize-modal",children:Object(p.jsxs)("div",{className:"authorize_modal-container",children:[Object(p.jsx)("span",{className:"authorize_modal-title",children:"Please authorize"}),Object(p.jsx)("select",{className:"autorized-by",value:i,onChange:function(e){o(e.target.value)},children:null===t||void 0===t?void 0:t.map((function(e){return Object(p.jsx)("option",{className:"user",value:e.data.name,children:e.data.name},e.id)}))}),Object(p.jsx)("div",{className:"authorize_modal-footer",children:Object(p.jsx)("button",{className:"confirm_authorize_modal-btn",id:"confirm_user",type:"button",onClick:function(){return a(i)},children:"Confirm"})})]})})};var g=function(){var e=[{id:"a6a136dc-fd2b-4073-a1ae-214589cc73e6",data:{isAdmin:!0,name:"test",password:""}}],t=Object(r.useState)([].concat(e)),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),i=Object(l.a)(s,2),d=i[0],j=i[1],f=Object(r.useState)(!0),O=Object(l.a)(f,2),m=O[0],g=O[1],y=Object(r.useState)(!0),N=Object(l.a)(y,2),w=N[0],S=N[1],_=Object(r.useState)(e[0]),k=Object(l.a)(_,2),E=k[0],A=k[1],U=Object(r.useState)("All"),M=Object(l.a)(U,2),T=M[0],z=M[1],C=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("users");case 2:return t=e.sent,e.next=5,v.get("events");case 5:n=e.sent,A(t[0]),c(t),j(n),g(!1),S(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){m&&C(),console.log("\u0412\u044b",a,m,E,d)}),[m]),m?Object(p.jsx)("span",{className:"loading-ring"}):Object(p.jsxs)("div",{className:"App",children:[!w&&Object(p.jsx)(x,{users:a,currentUser:E,setAuthorizedUser:function(e){S(!0),A(a.find((function(t){return t.data.name===e})))}}),Object(p.jsx)(h,{users:a,changeUser:function(){S(!1)},changeFilteredByUser:function(e){z(e)},newEvent:function(){console.log("New Event")},filteredByUser:T}),Object(p.jsx)(b,{})]})};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4cdbe7a4.chunk.js.map